<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>
		
		<template id="report_invoice">
		    <t t-call="report.html_container">
		        <t t-foreach="docs" t-as="o">
	                <div class="page">
	                    <div class="oe_structure">
		                    <t t-set="t_limit" t-value="45"/>
	                        <t t-esc="setLang(o.partner_id.lang)"/>
	                    	<t t-set="records" t-value="get_records(o)"/>
	                    	<t t-set="num_pages" t-value="get_num_pages(o, t_limit)"/>	                    
		                    <div class="row">
								<t t-foreach="num_pages" t-as="actual_page">
			                        <div class="col-xs-12">
			                            <table width="100%">	                            	
		                                    <tr>
		                                    	<td style="width: 50%;">
		                                    		<img src="/report_qweb_montecristo/static/img/Logo_Montecristo.png" style="width:100%; heigth: 100%"/>
		                                    	</td> 
	                            				<td style="vertical-align: top !important; padding-top: 35px;">
	                            					<table style="width:100%; height:180px; min-height: 180px !important; max-height:180px !important;">
	                            						<tr  style="border: 1px solid black; padding-top: 10px; padding-bottom: 10px; background-color: #cccccc;">
			 		                           				<td>
                                								<div t-if="o.type != 'out_refund' and o.type != 'in_refund'" style="text-align: center; font-size: 26px;">FATTURA/INVOICE</div>
                                								<div t-if="o.type == 'out_refund' or o.type == 'in_refund'" style="text-align: center; font-size: 22px;">NOTA DI CREDITO/REFUND INVOICE</div>
                                							</td>	
	                            						</tr>
	                            						<tr style="border: 1px solid black; border-bottom: none;">
	                            							<td>
	                            								<div style="font-size: x-small; padding-left: 2px;">Spett.le/Bill to:</div>
	                            							</td>
	                            						</tr>
	                            						<tr style="border: 1px solid black; border-bottom: none; border-top: none;">	
	                            							<td>
	                            								<div style="padding-left: 12px;" t-esc="o.partner_id.name"/>
	                            								<div t-if="not o.partner_id.name" style="padding-left: 12px;"><br /></div>
	                            							</td>
	                            						</tr>
	                            						<tr  style="border: 1px solid black; border-bottom: none; border-top: none;">
	                            							<td>
	                            								<br />
	                            							</td>
		                     							</tr>
	                        							<tr  style="border: 1px solid black; border-bottom: none; border-top: none;">
	                        								<td>
	                        									<div style="padding-left: 12px;" t-esc="o.partner_id.street"/>
	                        									<div t-if="not o.partner_id.street" style="padding-left: 12px;"><br /></div>
	                        								</td>
	                        							</tr>
	                        							<tr  style="border: 1px solid black; border-top: none;">
	                        								<td>
	                        									<div style="padding-left: 12px;">
	                        										<span t-esc="o.partner_id.zip"/>
	                        										<span t-if="o.partner_id.zip">-</span>
	                        										<span t-esc="o.partner_id.city"/>
	                        										<span t-if="o.partner_id.province">(</span>
	                        										<span t-esc="o.partner_id.province.code"/>
	                        										<span t-if="o.partner_id.province">)</span>
	                        									</div>
	                        									<div t-if="(not o.partner_id.zip) and (not o.partner_id.province) and (not o.partner_id.city)" style="padding-left: 12px;"><br /></div>
	                        								</td>                                								                            								
	                        							</tr>
	                            					</table>
	                            				</td>
                            				</tr>
                                		</table>
			                            <table style="width:100%; heigth: 30px; border: 1px solid black; margin-top: 3px;">
			                            	<tr>
			                            		<td style="width:23%; border: 1px solid black; background-color: #cccccc;">
			                            			<div style="font-size: xx-small; padding-left: 2px;">NUMERO DOCUMENTO/DOC.NUMBER</div>
			                            			<div style="text-align: center;" t-esc="o.number"/>
			                            		</td>
			                            		<td style="width:23%; border: 1px solid black; background-color: #cccccc;">
			                            			<div style="font-size: xx-small; padding-left: 2px;">DATA DOCUMENTO/DATE</div>
			                            			<div style="text-align: center;" t-esc="formatLang(o.date_invoice, date=True)"/>	                            			
			                            		</td>
			                            		<td style="width:22%; border: 1px solid black;">
			                            			<div style="font-size: xx-small; padding-left: 2px;">PARTITA IVA/VAT/TVA code</div>
			                            			<div style="text-align: center;" t-esc="o.partner_id.vat"/>		                            			
			                            		</td>
			                            		<td style="width:22%; border: 1px solid black;">
			                            			<div style="font-size: 6pt; padding-left: 2px;">AGENTE/AGENT</div>
			                            			<div style="font-size: x-small; text-align: center;" t-esc="o.salesagent_id.name"/>	                            			
			                            		</td>
			                            		<td style="width:10%; border: 1px solid black;">
			                            			<div style="font-size: xx-small; padding-left: 2px;">PAG.</div>
			                            			<div style="text-align: center;">
			                            				<span t-esc="actual_page+1"/>
			                            				<span>/</span>
			                            				<span t-esc="num_pages"/>
			                            			</div>	                            			
			                            		</td>			                            		                            			                            		
			                            	</tr>                            	
			                            </table>
			                            <table style="width:100%; heigth: 30px; border: 1px solid black;"> 
			                            	<tr>
			                            		<td style="width:38%; border: 1px solid black;">
			                            			<div style="font-size: xx-small; padding-left: 2px;">CONDIZIONI DI PAGAMENTO - DECORRENZA / PAYMENT - FROM</div>
			                            			<t t-if="o.payment_term">
				                            			<div style="text-align: center; font-size: x-small;">
				                            				<span t-esc="o.payment_term.name" /> 
				                            				<t t-if="o.date_start_payment">
				                            					<span> - </span>
				                            					<span t-esc="formatLang(o.date_start_payment, date=True)" />
				                            				</t>
				                            				<t t-if="not o.date_start_payment">
				                            					<span> - </span>
				                            					<span t-esc="formatLang(o.date_invoice, date=True)" />				                            					
				                            				</t>
				                            			</div>
				                            		</t>
				                            		<t t-if="not o.payment_term">	
				                            			<div style="font-size: x-small;"><br /></div>
				                            		</t>	
			                            		</td>
			                            		<td colspan = "2" style="width:24%; border: 1px solid black;">
			                            			<div style="font-size: xx-small; padding-left: 2px;">IBAN</div>
			                            			<t t-if="o.bank_account">
				                            			<div style="font-size: x-small;">
				                            				<span  style="text-align: left; padding-left: 5px;" t-esc="o.bank_account.acc_number"/>
		                            					</div>
		                            				</t>		                            			
			                            		</td>	
			                            		<td style="width:38%; border: 1px solid black;">
			                            			<div style="font-size: xx-small; padding-left: 2px;">BANCA D'APPOGGIO / BANK</div>
			                            			<div style="font-size: x-small;">
			                            				<span style="text-align: left; padding-left: 5px;">IBAN: IT64G0200814303000003689750</span><br />
			                            				<span style="text-align: left; padding-left: 5px;">SWIFT CODE/BIC: UNCRITM1528</span>
	                            					</div>		                            				 
			                            		</td>	                            			                            			                            		
			                            	</tr>
			                            </table>
			                            <table style="width:100%; border: 1px solid black; ">
			                            	<tr style="font-size: xx-small; border: 1px solid black;">
			                            		<td style="border: 1px solid black; vertical-align: middle;">
			                            			<div>COD.ART/CODE</div>
			                            		</td>
			                            		<td style="border: 1px solid black; vertical-align: middle;">
			                            			<div>COL.</div>
			                            		</td>
			                            		<td colspan="11" style="padding-left: 5pt; vertical-align: middle; border: 1px solid black;">
			                            			<div>DESCRIZIONE / DESCRIPTION</div>
			                            		</td>	                 
			                            		<td style="text-align: center; vertical-align: middle; border: 1px solid black;">
			                            			<div>TOT QT.</div>
			                            		</td>           		
			                            		<td style="border: 1px solid black; vertical-align: middle; font-size: 6pt; text-align: center;">
			                            			<div>SCONTO DISC.</div>
			                            		</td>            		
			                            		<td style="text-align: center; vertical-align: middle; border: 1px solid black;">
			                            			<div style="font-size: 5pt;">PREZZO UNITARIO / UNIT PRICE</div>
			                            		</td>
			                            		<td style="text-align: center; vertical-align: middle; border: 1px solid black;">
			                            			<div>IMPONIBILE / AMOUNT</div>
			                            		</td>
			                            		<td style="text-align: center; vertical-align: middle; border: 1px solid black;">
			                            			<div>IVA / VAT</div>
			                            		</td>
			                            	</tr>
			                            	<tr  style="font-size: x-small;">
			                            		<td style="width:10%; border: 1px solid black;"><div><br /></div></td>
			                            		<td style="width:3%; border: 1px solid black;"><div><br /></div></td>
			                            		<td style="width:28%; border: 1px solid black;"><div><br /></div></td>
			                            		<td style="width:3%; border: 1px solid black;"><div><br /></div></td>
			                            		<td style="width:3%; border: 1px solid black;"><div><br /></div></td>
			                            		<td style="width:3%; border: 1px solid black;"><div><br /></div></td>
			                            		<td style="width:3%; border: 1px solid black;"><div><br /></div></td>
			                            		<td style="width:3%; border: 1px solid black;"><div><br /></div></td>
			                            		<td style="width:3%; border: 1px solid black;"><div><br /></div></td>
			                            		<td style="width:3%; border: 1px solid black;"><div><br /></div></td>
			                            		<td style="width:3%; border: 1px solid black;"><div><br /></div></td>
			                            		<td style="width:3%; border: 1px solid black;"><div><br /></div></td>
			                            		<td style="width:3%; border: 1px solid black;"><div><br /></div></td>
			                            		<td style="width:5%; border: 1px solid black;"><div><br /></div></td>
			                            		<td style="width:3%; border: 1px solid black;"><div><br /></div></td>
			                            		<td style="width:8%; border: 1px solid black;"><div><br /></div></td>
			                            		<td style="width:8%; border: 1px solid black;"><div><br /></div></td>
			                            		<td style="width:5%; border: 1px solid black;"><div><br /></div></td>
			                            	</tr>
			                            	<t t-foreach="get_record_slice(records,actual_page*t_limit,(actual_page+1)*t_limit)" t-as="record">
			                            		<t t-if="record[0]==0">
				                            		<tr  style="font-size: x-small; text-align: center;"> 
				                            			<td style="border: 1px solid black;"><div t-esc="record[1]"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[2]"/></td>
														<td style="border: 1px solid black;">
															<div>
																<span t-esc="record[3][0]"/>
																<span t-if="record[3][1]" t-esc="formatLang(record[3][1], date=True)"/>
															</div>
														</td>
														<td style="border: 1px solid black;"><div t-esc="record[4]"/></td>
				                            			<td style="border: 1px solid black;"><div t-esc="record[5]"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[6]"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[7]"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[8]"/></td>
				                            			<td style="border: 1px solid black;"><div t-esc="record[9]"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[10]"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[11]"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[12]"/></td>												
														<td style="border: 1px solid black;"><div t-esc="record[13]"/></td>																										
				                            			<td style="border: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[14]"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[15]"/><t t-if="not record[15]"><br /></t></td>
														<td style="border: 1px solid black; text-align: right; padding-right: 3pt;"><div t-esc="formatLang(record[16])"/></td>
														<td style="border: 1px solid black; text-align: right; padding-right: 3pt;"><div t-esc="formatLang(record[17])"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[18]"/></td>																																																																																																											
				                            		</tr>
			                            		</t>			                            		
			                            		<t t-if="record[0]==1">
				                            		<tr  style="font-size: x-small; text-align: center;"> 
				                            			<td style="border: 1px solid black;"><div t-esc="record[1]"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[2]"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[3]"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[4]"/></td>
				                            			<td style="border: 1px solid black;"><div t-esc="record[5]"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[6]"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[7]"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[8]"/></td>
				                            			<td style="border: 1px solid black;"><div t-esc="record[9]"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[10]"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[11]"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[12]"/></td>												
														<td style="border: 1px solid black;"><div t-esc="record[13]"/></td>																										
				                            			<td style="border: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[14]"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[15]"/><t t-if="not record[15]"><br /></t></td>
														<td style="border: 1px solid black; text-align: right; padding-right: 3pt;"><div t-esc="formatLang(record[16])"/></td>
														<td style="border: 1px solid black; text-align: right; padding-right: 3pt;"><div t-esc="formatLang(record[17])"/></td>
														<td style="border: 1px solid black;"><div t-esc="record[18]"/></td>																																																																																																											
				                            		</tr>
			                            		</t>
			                            		<t t-if="record[0]==2  or record[0]==3 or record[0]==4">
				                            		<tr  style="font-size: x-small; font-weight: bold; text-align: center;"> 
				                            			<td style="border-left: 1px solid black; text-align: left; padding-left: 5pt;"><div t-esc="record[1]"/></td>
														<td style="border-left: 1px solid black;"><div t-esc="record[2]"/></td>
														<td style="border-left: 1px solid black; text-align: left; padding-left: 5pt;"><div t-esc="record[3]"/></td>
														<td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[4]"/></td>
				                            			<td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[5]"/></td>
														<td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[6]"/></td>
														<td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[7]"/></td>
														<td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[8]"/></td>
				                            			<td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[9]"/></td>
														<td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[10]"/></td>
														<td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[11]"/></td>
														<td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[12]"/></td>												
														<td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[13]"/></td>																										
				                            			<td style="border-left: 1px solid black; text-align: right; padding-right: 2pt;"><div t-esc="record[14]"/></td>
														<td style="border-left: 1px solid black;"><div t-esc="record[15]"/><t t-if="not record[15]"><br /></t></td>
														<td style="border-left: 1px solid black; text-align: right; padding-right: 3pt;"><div t-esc="formatLang(record[16])"/></td>
														<td style="border-left: 1px solid black; text-align: right; padding-right: 3pt;"><div t-esc="formatLang(record[17])"/></td>
														<td style="border-left: 1px solid black;"><div t-esc="record[18]"/></td>																																																																																																											
				                            		</tr>			                            			
			                            		</t>	

			                            		<t t-if="record[0] == 5">
				                            		<tr  style="font-size: x-small; text-align: center;"> 
				                            			<td colspan="18" style="border-left: 1px solid black; border-top: 1px solid black; text-align: left; padding-left: 5pt;"><div t-esc="record[1]"/></td>																																																																																																											
				                            		</tr>			                            			
			                            		</t>			                            		
			                            					                            			                            		
			                            	</t> 
			                            </table>
			                            <table style="width:100%; border: 1px solid black;">
			                            	<tr style="font-size: 5pt; border: 1px solid black; vertical-align: middle; text-align: center;">
			                            		<td style="width:15%; border: 1px solid black;">
			                            			<div>TOTALE MERCE/TOTAL AMOUNT</div>	
			                            		</td>
			                            		<td style="width:10%; border: 1px solid black;">
			                            			<div>SCONTO / DISCOUNT [%]</div>	
			                            		</td>		                
			                            		<td style="width:15%; border: 1px solid black;">
			                            			<div>IMP.SCONTO/DISCOUNT AMOUNT</div>	
			                            		</td>
			                            		<td style="width:15%; border: 1px solid black;">
			                            			<div>NETTO MERCE/NET AMOUNT</div>	
			                            		</td>             		
			                            		<td style="font-size: xx-small; width:15%; border: 1px solid black;">
			                            			<div>IMPONIBILE OMAGGI/FREE</div>	
			                            		</td>
		                            		  	<td style="width:15%; border: 1px solid black;">
			                            			<div>SPESE TRASP./SHIPP.COST</div>	
			                            		</td>
			                            		<td style="font-size: xx-small; width:15%; border: 1px solid black;">
			                            			<div>ADVANCE</div>	
			                            		</td>    
			                            	</tr>
			                            	<tr style="font-size: small; border: 1px solid black; text-align: center; font-weight: bold;">
			                            		<td style="border: 1px solid black;">
			                            			<t t-if="actual_page+1 == num_pages">
			                            				<div t-esc="formatLang(o.showed_global_discount_total + o.amount_untaxed_free + o.amount_untaxed - get_shipping_costs(o))"/>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>	                            			
			                            		</td>
			                            		<td style="border: 1px solid black;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="o.amount_total and o.global_discount_total">
				                            				<div t-esc="get_discount_line(o)" />
				                            			</t>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            				
			                            		</td>
			                            		<td style="border: 1px solid black;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="o.global_discount_total">
				                            				<div t-esc="formatLang(o.showed_global_discount_total)"/>
				                            			</t>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>
			                            		<td style="border: 1px solid black;">
			                            			<t t-if="actual_page+1 == num_pages">
			                            				<div t-esc="formatLang(o.amount_untaxed + o.amount_untaxed_free - get_shipping_costs(o))"/>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>
			                            		<td style="border: 1px solid black;">
			                            			<t t-if="actual_page+1 == num_pages">
			                            				<div t-esc="formatLang(o.amount_untaxed_free)"/>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>
			                            		<td style="border: 1px solid black;">
			                            			<t t-if="actual_page+1 == num_pages">
			                            				<div t-esc="formatLang(get_shipping_costs(o))" />
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>
			                            		<td style="border: 1px solid black;">
			                            			<t t-if="actual_page+1 == num_pages">
			                            				<div t-esc="formatLang(o.wht_amount) or ''"/>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>
		                            		</tr>
			                            </table>
			                            <table style="width:100%; border: 1px solid black;">
			                            	<t t-set="total_base" t-value="0"/>
			                            	<t t-set="total_amount" t-value="0"/>
			                            	<t t-set="maturities" t-value="get_move_line(o.move_id.id)"/>
			                            	<tr style="font-size: 5pt; vertical-align: middle; text-align: center;">
			                            		<td style="width:25%; border: 1px solid black; border-bottom: none;  text-align: left; padding-left: 5pt;">
			                            			<div>PORTO/FREIGHT</div>	
			                            		</td>
			                            		<td style="width:9%; border: 1px solid black;">
			                            			<div>IMPONIBILE/SUBTOTAL</div>	
			                            		</td>
			                            		<td style="width:7%; border: 1px solid black;">
			                            			<div>AL.IVA</div>	
			                            		</td>			 
			                            		<td style="width:9%; border: 1px solid black;">
			                            			<div>IMPOSTA</div>	
			                            		</td>
			                            		<td colspan="4" style="border: 1px solid black; border-bottom: none;  text-align: left; padding-left: 5pt;">
			                            			<div>VETTORE/SHIPPING AGENT</div>	
			                            		</td>	                            					                            					                            		                           					                            		
			                            	</tr>
			                            	<tr style="font-size: small; vertical-align: middle;">
			                            		<td style="border: 1px solid black; border-top: none; text-align: left; padding-left: 5pt;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="o.is_shipping_invoice and o.shipping_invoice_incoterm_id">
				                            				<div t-esc="o.shipping_invoice_incoterm_id.name"/>
			                            				</t>
			                            				<t t-if="not o.is_shipping_invoice">
			                            					<br />
			                            				</t>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>		                            				
			                            		</td>
			                            		<td style="border-left: 1px solid black; border-right: 1px solid black; text-align: right; padding-right: 5pt;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="len(o.tax_line)&gt;=1">
				                            				<div t-esc="formatLang(o.tax_line[0].displayed_base + o.amount_untaxed_free)"/>
							                            	<t t-set="total_base" t-value="total_base+o.tax_line[0].displayed_base+o.amount_untaxed_free"/>
				                            			</t>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>			                            				
			                            		</td>
			                            		<td style="border-left: 1px solid black; border-right: 1px solid black; text-align: center;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="len(o.tax_line)&gt;=1 and o.tax_line[0].tax_code_id">
				                            				<div t-esc="o.tax_line[0].tax_code_id.code"/>
				                            			</t>	
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>			 
			                            		<td style="border-left: 1px solid black; border-right: 1px solid black; text-align: right; padding-right: 5pt;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="len(o.tax_line)&gt;=1">
				                            				<div t-esc="formatLang(o.tax_line[0].displayed_amount + o.amount_tax_free)"/>
				                            				<t t-set="total_amount" t-value="total_amount+o.tax_line[0].displayed_amount + o.amount_tax_free"/>
				                            			</t>	
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>
			                            		<td colspan="4" style="border-left: 1px solid black; border-top: none; text-align: left; padding-left: 5pt;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="o.is_shipping_invoice and o.shipping_invoice_carrier_id">
					                            			<div t-esc="o.shipping_invoice_carrier_id.name"/>	
					                            		</t>		
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>					                            				                            				
			                            		</td>	                            					                            					                            		                           					                            		
			                            	</tr>
			                            	<tr style="font-size: 5pt; vertical-align: middle; text-align: center;">
			                            		<td style="border: 1px solid black; border-bottom: none;  text-align: left; padding-left: 5pt;">
			                            			<div>CAUSALE DEL TRASPORTO/CAUSE</div>	
			                            		</td>
			                            		<td style="border-left: 1px solid black; border-right: 1px solid black; text-align: right; padding-right: 5pt">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="len(o.tax_line)&gt;=2">
				                            				<div t-esc="formatLang(o.tax_line[1].displayed_base)"/>
															<t t-set="total_base" t-value="total_base+o.tax_line[1].displayed_base"/>			                            				
				                            			</t>	
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>
			                            		<td style="border-left: 1px solid black; border-right: 1px solid black; font-size: small;  text-align: center;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="len(o.tax_line)&gt;=2 and o.tax_line[1].tax_code_id">
				                            				<div t-esc="o.tax_line[1].tax_code_id.code"/>
				                            			</t>	
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>			 
			                            		<td style="border-left: 1px solid black; border-right: 1px solid black; font-size: small; text-align: right; padding-right: 5pt;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="len(o.tax_line)&gt;=2">
				                            				<div t-esc="formatLang(o.tax_line[1].displayed_amount)"/>
				                            				<t t-set="total_amount" t-value="total_amount+o.tax_line[1].displayed_amount"/>
				                            			</t>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>
			                            		<td style="width: 8%; border: 1px solid black; border-bottom: none;  text-align: left; font-size: 5pt;">
			                            			<div>COLLI/PARCEL N.</div>	
			                            		</td>
			                            		<td style="width: 8%; border: 1px solid black; border-bottom: none;  text-align: left;">
			                            			<div>PESO KG/WEIGHT</div>	
			                            		</td>	
			                            		<td style="width: 9%; border: 1px solid black; border-bottom: none;  text-align: left;">
			                            			<div>TOTALE PZ./TOT.PCS</div>	
			                            		</td>
			                            		<td style="width: 25%; border: 1px solid black; border-bottom: none;  text-align: left;  padding-left: 5pt;">
			                            			<div>DATA INIZIO TRASPORTO/PICKING UP DATE</div>	
			                            		</td>			                            					                            				                            			                            					                            					                            		                           					                            		
			                            	</tr>		
			                            	<tr style="font-size: small; vertical-align: middle;">
			                            		<td style="border: 1px solid black; border-top: none; text-align: left; padding-left: 5pt;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="o.is_shipping_invoice">
				                            				<div t-esc="o.shipping_invoice_picking_type_id"/>
			                            				</t>
			                            				<t t-if="not o.is_shipping_invoice">
			                            					<br />
			                            				</t>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>			                            				
			                            		</td>
			                            		<td style="border-left: 1px solid black; border-right: 1px solid black; text-align: right; padding-right: 5pt">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="len(o.tax_line)&gt;=3">
				                            				<div t-esc="formatLang(o.tax_line[2].displayed_base)"/>
				                            				<t t-set="total_base" t-value="total_base+o.tax_line[2].displayed_base"/>
				                            			</t>	
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>
			                            		<td style="border-left: 1px solid black; border-right: 1px solid black;  text-align: center;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="len(o.tax_line)&gt;=3 and o.tax_line[2].tax_code_id">
				                            				<div t-esc="o.tax_line[2].tax_code_id.code"/>
				                            			</t>	
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>			 
			                            		<td style="border-left: 1px solid black; border-right: 1px solid black; text-align: right; padding-right: 5pt;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="len(o.tax_line)&gt;=3">
				                            				<div t-esc="formatLang(o.tax_line[2].displayed_amount)"/>
				                            				<t t-set="total_amount" t-value="total_amount+o.tax_line[2].displayed_amount"/>
				                            			</t>	
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>
			                            		<td style="border-left: 1px solid black; border-top: none; text-align: center;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="o.is_shipping_invoice">
					                            			<div t-esc="o.shipping_invoice_number_of_packages"/>	
					                            		</t>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>					                            						                            				
			                            		</td>
			                            		<td style="border-left: 1px solid black; border-top: none; text-align: center;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="o.is_shipping_invoice">
					                            			<div t-esc="o.shipping_invoice_weight"/>	
					                            		</t>				                           
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>					                            		 				
			                            		</td>
			                            		<td style="border-left: 1px solid black; border-top: none; text-align: right; padding-right: 3pt;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="o.is_shipping_invoice">
					                            			<div t-esc="get_tot_pcs(o)"/>	
					                            		</t>	
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>					                            					                            				
			                            		</td>
			                            		<td style="border-left: 1px solid black; border-top: none; text-align: left; padding-left: 5pt;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="o.is_shipping_invoice">
					                            			<div t-esc="formatLang(o.shipping_invoice_min_date, date=True)"/>	
					                            		</t>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>					                            						                            				
			                            		</td>			                            					                            					                            			                            					                            					                            		                           					                            		
			                            	</tr>
			                            	<tr style="font-size: 5pt; vertical-align: middle; text-align: center;">
			                            		<td style="border: 1px solid black; border-bottom: none;  text-align: left; padding-left: 5pt;">
			                            			<div>TRASPORTO A CURA DEL/SHIPPING BY</div>	
			                            		</td>
			                            		<td style="border-left: 1px solid black; border-right: 1px solid black; text-align: right; padding-right: 5pt">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="len(o.tax_line)&gt;=4">
				                            				<div t-esc="formatLang(o.tax_line[3].displayed_base)"/>
				                            				<t t-set="total_base" t-value="total_base+o.tax_line[3].displayed_base"/>
				                            			</t>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            				
			                            		</td>
			                            		<td style="border-left: 1px solid black; border-right: 1px solid black; font-size: small;  text-align: center;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="len(o.tax_line)&gt;=4 and o.tax_line[3].tax_code_id">
				                            				<div t-esc="o.tax_line[3].tax_code_id.code"/>
				                            			</t>	
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>			 
			                            		<td style="border-left: 1px solid black; border-right: 1px solid black; font-size: small; text-align: right; padding-right: 5pt;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="len(o.tax_line)&gt;=4">
				                            				<div t-esc="formatLang(o.tax_line[3].displayed_amount)"/>
				                            				<t t-set="total_amount" t-value="total_amount+o.tax_line[3].displayed_amount"/>
				                            			</t>	
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>
			                            		<td colspan="3" style="border: 1px solid black; border-bottom: none;  text-align: left;  padding-left: 5pt;">
			                            			<div>TOTALE FATTURA/TOTAL</div>	
			                            		</td>
			                            		<td style="border: 1px solid black; border-bottom: none;  text-align: left; background-color: #cccccc;  padding-left: 5pt;">
			                            			<div>NETTO A PAGARE/BALANCE</div>	
			                            		</td>			                            					                            				                            			                            					                            					                            		                           					                            		
			                            	</tr>
			                            	<tr style="font-size: small; vertical-align: middle;">
			                            		<td style="border: 1px solid black; border-top: none; text-align: left; padding-left: 5pt;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<t t-if="o.is_shipping_invoice">
				                            				<div t-esc="o.shipping_invoice_delivery_methods"/>
			                            				</t>
			                            				<t t-if="not o.is_shipping_invoice">
			                            					<br />
			                            				</t>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>			                            				
			                            		</td>
			                            		<td style="text-align: right; padding-right: 5pt; border: 1px solid black; background-color: #cccccc;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<div t-esc="formatLang(total_base)" />	
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            				
			                            		</td>
			                            		<td style="text-align: center; border: 1px solid black; background-color: #cccccc;">
			                            			<div>TOT</div>	
			                            		</td>			 
			                            		<td style="text-align: right; padding-right: 5pt; border: 1px solid black; background-color: #cccccc;">
			                            			<t t-if="actual_page+1 == num_pages">
			                            				<div t-esc="formatLang(total_amount)" />
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>			                            				
			                            		</td>
			                            		<td colspan="3" style="border-left: 1px solid black; border-top: none;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<div style="text-align: right; padding-right: 5pt;">
				                            				<span t-esc="formatLang(total_base+total_amount)"/>
				                            				<span t-esc="o.currency_id.symbol"/>
			                            				</div>	
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>			                            								                            				
			                            		</td>
			                            		<td style="border-left: 1px solid black; border-top: none; background-color: #cccccc;">
			                            			<t t-if="actual_page+1 == num_pages">
				                            			<div style="text-align: right; padding-right: 5pt;">
				                            				<span t-esc="formatLang(o.net_pay)"/>
				                            				<span t-esc="o.currency_id.symbol"/>
			                            				</div>	
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>			                            								                            				
			                            		</td>			                            					                            					                            			                            					                            					                            		                           					                            		
			                            	</tr>
			                            	<tr style="font-size: 5pt; vertical-align: middle; text-align: center;">
			                            		<td colspan="4" style="border: 1px solid black; border-bottom: none;  text-align: left; padding-left: 5pt;">
			                            			<div>SCADENZE / TOTAL AMOUNT TO BE PAID</div>	
			                            		</td>
			                            		<td colspan="3" style="border: 1px solid black; border-bottom: none;  text-align: left; padding-left: 5pt;">
			                            			<div>FIRMA DEL VETTORE/SHIPPING AGENT SIGNATURE</div>	
			                            		</td>
			                            		<td style="border: 1px solid black; border-bottom: none;  text-align: left; padding-left: 5pt;">
			                            			<div>FIRMA DEL DESTINATARIO/RECIPIENT SIGNATURE</div>	
			                            		</td>			                            					                            				                            			                            					                            					                            		                           					                            		
			                            	</tr>
			                            	<tr style="font-size: small; vertical-align: middle; text-align: left; padding-left: 5pt;">
			                            		<td style="border: none;">
													<t t-if="actual_page+1 == num_pages">			                            			
				                            			<t t-if="len(maturities)&gt;= 1">
				                            				<div>
				                            					<span>1) </span> 
				                            					<span style="padding-left: 5pt;" t-esc="formatLang(maturities[0].date_maturity, date=True)"/>
				                            					<span style="padding-left: 15pt;" t-esc="formatLang(maturities[0].debit + maturities[0].credit)" />
				                            				</div>	
				                            			</t>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>
			                            		<td colspan="3" style="border-right: 1px solid black;">
													<t t-if="actual_page+1 == num_pages">			                            			
				                            			<t t-if="len(maturities)&gt;= 2">
				                            				<div>
				                            					<span>2) </span> 
				                            					<span style="padding-left: 5pt;" t-esc="formatLang(maturities[1].date_maturity, date=True)"/>
				                            					<span style="padding-left: 15pt;" t-esc="formatLang(maturities[1].debit + maturities[1].credit)" />
				                            				</div>	
				                            			</t>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>
			                            		<td colspan="3" style="border-right: 1px solid black;">
			                            			<div><br /></div>
			                            		</td>		 
			                            		<td style="border: none;">
			                            			<div><br /></div>
			                            		</td>			                            					                            					                            			                            					                            					                            		                           					                            		
			                            	</tr>
			                            	<tr style="font-size: small; vertical-align: middle; text-align: left; padding-left: 5pt;">
			                            		<td style="border: none;">
													<t t-if="actual_page+1 == num_pages">			                            			
				                            			<t t-if="len(maturities)&gt;= 3">
				                            				<div>
				                            					<span>3) </span> 
				                            					<span style="padding-left: 5pt;" t-esc="formatLang(maturities[2].date_maturity, date=True)"/>
				                            					<span style="padding-left: 15pt;" t-esc="formatLang(maturities[2].debit + maturities[2].credit)" />
				                            				</div>	
				                            			</t>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>
			                            		<td colspan="3" style="border-right: 1px solid black;">
													<t t-if="actual_page+1 == num_pages">			                            			
				                            			<t t-if="len(maturities)&gt;= 4">
				                            				<div>
				                            					<span>4) </span> 
				                            					<span style="padding-left: 5pt;" t-esc="formatLang(maturities[3].date_maturity, date=True)"/>
				                            					<span style="padding-left: 15pt;" t-esc="formatLang(maturities[3].debit + maturities[3].credit)" />
				                            				</div>	
				                            			</t>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            			
			                            		</td>
			                            		<td colspan="3" style="border-right: 1px solid black;">
			                            			<div><br /></div>
			                            		</td>		 
			                            		<td style="border: none;">
			                            			<div><br /></div>
			                            		</td>			                            					                            					                            			                            					                            					                            		                           					                            		
			                            	</tr>
			                            	<tr style="font-size: 5pt; vertical-align: middle; text-align: left; padding-left: 5pt; border: 1px solid black; border-bottom: none;">		
			                            		<td colspan="8">
			                            			<div>NOTE</div>
			                            		</td>
			                            	</tr>	
			                            	<tr style="font-size: small; text-align: left; padding-left: 5pt; border: 1px solid black; border-top:none;">		
			                            		<td colspan="8">
													<t t-if="actual_page+1 == num_pages">			                            			
				                            			<t t-if="not o.comment">
				                            				<div>
				                            					<br />
			                            					</div>
				                            			</t>
				                            			<t t-if="o.comment">
				                            				<div t-esc="o.comment"/>
				                            			</t>
													</t>
													<t t-if="actual_page+1 != num_pages">	
														<br />
													</t>				                            						                            			
			                            		</td>
			                            	</tr>
			                            	<tr colspan="6" style="font-size: 5pt; text-align: left; padding-left: 5pt; border: 1px solid black;">		
			                            		<td colspan="6">
			                            			<div>CONDIZIONI GENERALI DI VENDITA: 1. Non si accettano reclami trascorsi otto giorni dal ricevimento di quanto fornito. 2. La merce viaggia a rischio e pericolo del cliente anche se convenuto franco destino. 3. Salvo patto espresso, tutti i prezzi si intendono franco sede della ditta venditrice. 4. In caso di ritardo del pagamento decorreranno gli interessi commerciali nella misura del tasso ufficiale di sconto aumentato di 3 punti. 5. Per qualsiasi controversia si adir all'autorit giudiziaria competente nel territorio della ditta venditrice. 6. Comunicateci eventuali errori/omissioni relativi ai vs dati anagrafici e fiscali.</div>
			                            		</td>
			                            		<td colspan="2" style="vertical-align: bottom;">
			                            			<div style="font-size: medium; text-align: right; padding-right: 5pt;">CONTRIBUTO CONAI ASSOLTO</div>
			                            		</td>
			                            	</tr>			                            				                            	                            				                            				                            				                            				                            				                            		                            				                            	
			                            </table>
			                        </div>
	                            	<t t-if="num_pages != actual_page+1">
		                        	    <p style="font-size: 1px; color: #ffffff; margin-bottom: 0in; page-break-after: always">-</p>
	    	                        </t>
		                    	</t>		                        
		                    </div>
		                </div>
	                </div>
            	</t>
            </t>
		</template>		
		
</data>
</openerp>
								            